@page "/login"

<h3>Connexion</h3>

<EditForm Model="@loginModel" OnValidSubmit="@HandleLogin">
    <InputText @bind-Value="loginModel.UsernameOrEmail" placeholder="Email ou nom d'utilisateur" class="form-control" />
    <InputText @bind-Value="loginModel.Password" placeholder="Mot de passe" type="password" class="form-control mt-2" />

    <button type="submit" class="btn btn-primary mt-3">Connexion</button>
</EditForm>

<p class="mt-3">
    <a href="/register">Créer un compte</a>
</p>

@code {
    private LoginModel loginModel = new();

    private async Task HandleLogin()
    {
        // TODO : envoyer loginModel à l’API pour vérifier les identifiants
        Console.WriteLine($"Tentative de connexion pour : {loginModel.UsernameOrEmail}");
    }

    public class LoginModel
    {
        public string UsernameOrEmail { get; set; } = string.Empty;
        public string Password { get; set; } = string.Empty;
    }
}